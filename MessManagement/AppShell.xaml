<?xml version="1.0" encoding="UTF-8" ?>
<Shell
    x:Class="MessManagement.AppShell"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:local="clr-namespace:MessManagement"
    xmlns:views="clr-namespace:MessManagement.MVVM.Views"
    xmlns:icons="clr-namespace:MessManagement.MVVM.Models"
    Shell.FlyoutBehavior="Flyout"
    Shell.TitleColor="{AppThemeBinding Light=black,Dark=white}"
    Shell.ForegroundColor="{AppThemeBinding Light=black,Dark=white}"
    Title="MessManagement">
    <!-- ðŸ”¹ Custom Header -->
    <Shell.FlyoutHeader>
        <Grid Style="{StaticResource FlyoutHeaderBackground}" Padding="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <Border Grid.Row="0"
            HeightRequest="80"
            WidthRequest="80"
            Stroke="White"
            StrokeThickness="2"
            BackgroundColor="Transparent"
            HorizontalOptions="Center"
            VerticalOptions="Center"
            Padding="0"
            StrokeShape="Ellipse">
                <Image Source="dotnet_bot.png" Aspect="AspectFill"/>
            </Border>
            <HorizontalStackLayout Grid.Row="1"
                               HorizontalOptions="Center"
                               Margin="0,10,0,0">
                <Label Grid.Row="1"
                Text="Md. Nasim"
                TextColor="White"
                FontSize="18"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Margin="0,10,0,0"
                FontAttributes="Bold"/>
                <ImageButton WidthRequest="24" 
                         HeightRequest="24"
                         VerticalOptions="Center"
                         Margin="5,0,0,0"
                         Aspect="Center">
                    <ImageButton.Source>
                        <FontImageSource Glyph="{x:Static icons:IconFont.Edit}" 
                                     FontFamily="MaterialIcons"
                                     Size="24"/>
                    </ImageButton.Source>
                </ImageButton>
            </HorizontalStackLayout>
            <!-- User Name -->
        </Grid>
    </Shell.FlyoutHeader>
    
    <FlyoutItem Title="Home">
        <FlyoutItem.Icon>
            <FontImageSource Glyph="{x:Static icons:IconFont.Home}"
                FontFamily="MaterialIcons"
                         Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}"
                         Size="24"/>
        </FlyoutItem.Icon>
        <ShellContent
            ContentTemplate="{DataTemplate local:MainPage}"
            Route="MainPage" />
    </FlyoutItem>
    <FlyoutItem Title="Create Mess">
        <FlyoutItem.Icon>
            <FontImageSource Glyph="{x:Static icons:IconFont.Create}"
                FontFamily="MaterialIcons"
                     Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource White}}"
                     Size="24"/>
        </FlyoutItem.Icon>
        <ShellContent
            ContentTemplate="{DataTemplate views:MessWizardPage}"
            Route="MessWizardPage" />
    </FlyoutItem>

    <Shell.FlyoutFooter>
        <Grid Padding="10" >
            <Button Text="Logout" Style="{StaticResource PrimaryButton}"
                Clicked="Button_Clicked">
                <Button.ImageSource>
                    <FontImageSource Glyph="{x:Static icons:IconFont.Logout}" 
                        FontFamily="MaterialIcons"
                                 Size="24"/>
                </Button.ImageSource>
            </Button>
        </Grid>
    </Shell.FlyoutFooter>
</Shell>
